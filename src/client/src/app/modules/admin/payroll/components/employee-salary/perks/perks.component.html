<h2 mat-dialog-title>{{ formTitle }}</h2>
<form [formGroup]="formGroup" (ngSubmit)="onSubmit()">
    <mat-dialog-content class="mat-typography">
        <div class="row">
            <div class="col-md-6">
                <input mat type="hidden" formControlName="id" />
                <div class="col-xs-12 col-md-12">
                    <mat-form-field appearance="outline">
                        <mat-label>{{ SalaryPerksTypeMapping[data.type] }} Name </mat-label>
                        <input matInput placeholder="Name" formControlName="name" required />
                        <mat-error> Please provide a valid In Time </mat-error>
                    </mat-form-field>
                </div>

                <div class="col-xs-12 col-md-12">
                    <mat-form-field appearance="outline">
                        <mat-label> Amount </mat-label>
                        <input matInput type="number" placeholder="Amount" formControlName="amount" required />
                        <mat-error> Please provide a valid In Time </mat-error>
                    </mat-form-field>
                </div>
                <div class="col-xs-12 col-md-12">
                    <mat-form-field appearance="outline">
                        <mat-label>Effecitve From</mat-label>
                        <input matInput [matDatepicker]="picker" formControlName="effecitveFrom" required />
                        <mat-hint>DD/MM/YYYY</mat-hint>
                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker startView="multi-year" (monthSelected)="setMonthAndYear($event, picker,'effecitveFrom')"></mat-datepicker>
                        <mat-error> Please provide a valid Effecitve From </mat-error>
                    </mat-form-field>
                </div>
                <div class="col-xs-12 col-md-12">
                    <br />
                    <label id="example-radio-group-label">Repeat > </label>
                    <mat-radio-group aria-labelledby="example-radio-group-label" (change)="recursionChange($event)" class="example-radio-group" formControlName="isRecursion">
                        <mat-radio-button class="example-radio-button" [value]="false"> One Time </mat-radio-button>
                        <mat-radio-button class="example-radio-button" [value]="true"> Recurring </mat-radio-button>
                    </mat-radio-group>
                </div>

                <div class="col-xs-12 col-md-12" *ngIf="isRecursion">
                    <br />
                    <label id="example-radio-group-label">Recursion Limit > </label>
                    <mat-radio-group aria-labelledby="example-radio-group-label" (change)="recursionLimitChange($event)" class="example-radio-group" formControlName="isRecursionUnLimited">
                        <mat-radio-button class="example-radio-button" [value]="true"> Unlimited </mat-radio-button>
                        <mat-radio-button class="example-radio-button" [value]="false"> Limited </mat-radio-button>
                    </mat-radio-group>
                </div>
                <br />
                <div class="col-xs-12 col-md-12" *ngIf="isLimited">
                    <mat-form-field appearance="outline">
                        <mat-label>End Recursion (when to stop recursion, given month is inclusive)</mat-label>
                        <input matInput matTooltip="when to stop,given month is inclusive" [min]="minDate" [matDatepicker]="recursionEndMonthPicker" formControlName="recursionEndMonth" />
                        <mat-hint>DD/MM/YYYY</mat-hint>
                        <mat-datepicker-toggle matSuffix [for]="recursionEndMonthPicker"></mat-datepicker-toggle>
                        <mat-datepicker #recursionEndMonthPicker startView="multi-year" (monthSelected)="setMonthAndYear($event, recursionEndMonthPicker,'recursionEndMonth')"></mat-datepicker>
                        <mat-error> Please provide a valid End Month </mat-error>
                    </mat-form-field>
                </div>

                <div class="col-xs-12 col-md-12">
                    <mat-form-field appearance="outline">
                        <mat-label>Description</mat-label>
                        <textarea matInput formControlName="description"></textarea>
                        <mat-error> Please provide a valid Description </mat-error>
                    </mat-form-field>
                </div>
                <mat-dialog-actions align="end">
                    <button mat-raised-button mat-dialog-close>Cancel</button>
                    <button mat-raised-button cdkFocusInitial color="primary" [disabled]="!formGroup.dirty || !formGroup.valid" type="submit">Save</button>
                </mat-dialog-actions>
            </div>
            <div class="col-md-6">
                <div [hidden]="!salariesPerks">
                    <app-table
                        [data]="salariesPerks && salariesPerks.data"
                        [columns]="perksColumns"
                        (onEditForm)="openForm($event)"
                        [totalCount]="salariesPerks && salariesPerks.totalCount"
                        [pageSize]="salariesPerks && salariesPerks.pageSize"
                        (onPageChanged)="pageChanged($event)"
                        (onDelete)="remove($event)"
                        [moduleName]="'EmployeesSalary'"
                    >
                    </app-table>
                </div>
            </div>
        </div>
    </mat-dialog-content>
</form>
