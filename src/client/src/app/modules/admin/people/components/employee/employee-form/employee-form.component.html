<mat-stepper linear #stepper>
    <mat-step [stepControl]="firstFormGroup">
        <form [formGroup]="firstFormGroup">
            <ng-template matStepLabel>General Information</ng-template>
            <div class="row">
                <div class="col-xs-12 col-md-3">
                    <mat-form-field appearance="fill">
                        <mat-label>First Name</mat-label>
                        <input matInput formControlName="firstName" placeholder="First Name" required />
                        <mat-error> Please provide a valid First Name</mat-error>
                    </mat-form-field>
                </div>
                <div class="col-xs-12 col-md-3">
                    <mat-form-field appearance="fill">
                        <mat-label>Last Name</mat-label>
                        <input matInput formControlName="lastName" placeholder="Last Name" required />
                        <mat-error> Please provide a valid Last Name</mat-error>
                    </mat-form-field>
                </div>
                <div class="col-xs-12 col-md-3">
                    <mat-form-field appearance="fill">
                        <mat-label>Employee Code</mat-label>
                        <input matInput formControlName="employeeCode" placeholder="Employee Code" required />
                        <mat-error> Please provide a valid Employee Code</mat-error>
                    </mat-form-field>
                </div>
                <div class="col-xs-12 col-md-3">
                    <mat-form-field appearance="fill">
                        <mat-label>Punch Code</mat-label>
                        <input matInput formControlName="punchCode" placeholder="Punch Code" required />
                        <mat-error> Please provide a valid Punch Code</mat-error>
                    </mat-form-field>
                </div>
                <div class="col-xs-12 col-md-3">
                    <mat-form-field appearance="outline">
                        <mat-label>Department</mat-label>
                        <mat-select formControlName="departmentId" name="departmentId" required (selectionChange)="departmentSelection($event)">
                            <mat-option *ngFor="let department of departments" [value]="department.id">{{ department.name }}</mat-option>
                        </mat-select>
                        <mat-error> Please provide a valid Department</mat-error>
                    </mat-form-field>
                </div>
                <div class="col-xs-12 col-md-3">
                    <mat-form-field appearance="outline">
                        <mat-label>Designation</mat-label>
                        <mat-select formControlName="designationId" name="designationId" required>
                            <mat-option *ngFor="let designation of filteredDesignations" [value]="designation.id">{{ designation.name }}</mat-option>
                        </mat-select>
                        <mat-error> Please provide a valid Designation </mat-error>
                    </mat-form-field>
                </div>
                <div class="col-xs-12 col-md-3">
                    <mat-form-field appearance="outline">
                        <mat-label>Policy</mat-label>
                        <mat-select formControlName="policyId" name="policyId" required>
                            <mat-option *ngFor="let policy of policies" [value]="policy.id">{{ policy.name }}</mat-option>
                        </mat-select>
                        <mat-error> Please provide a valid Policy </mat-error>
                    </mat-form-field>
                </div>
                <div class="col-xs-12 col-md-3">
                    <mat-form-field appearance="outline">
                        <mat-label>Reporting Manager</mat-label>
                        <mat-select formControlName="reportingTo" name="reportingTo">
                            <mat-option value="1">Manager</mat-option>
                        </mat-select>
                        <mat-error> Please provide a valid Reporting Manager </mat-error>
                    </mat-form-field>
                </div>
                <div class="col-xs-12 col-md-3">
                    <mat-form-field appearance="outline">
                        <mat-label>Employee Status</mat-label>
                        <mat-select formControlName="employeeStatus" name="employeeStatus">
                            <mat-option value="Permanent">Permanent</mat-option>
                            <mat-option value="Contract">Contract</mat-option>
                        </mat-select>
                        <mat-error> Please provide a valid Employee Status </mat-error>
                    </mat-form-field>
                </div>
                <div class="col-xs-12 col-md-3">
                    <mat-form-field appearance="fill">
                        <mat-label>Mobile No</mat-label>
                        <input matInput formControlName="mobileNo" placeholder="Mobile No" />
                    </mat-form-field>
                </div>
                <div class="col-xs-12 col-md-3">
                    <mat-form-field appearance="fill">
                        <mat-label>Email</mat-label>
                        <input matInput formControlName="email" placeholder="Email" />
                    </mat-form-field>
                </div>

                <div class="col-xs-12 col-md-3">
                    <mat-checkbox class="example-margin" formControlName="allowManualAttendance">Allow Manual Attendance</mat-checkbox>
                </div>
            </div>
            <div>
                <button mat-button (click)="onSubmit()">Submit</button>
                <button mat-button matStepperNext>Next</button>
            </div>
        </form>
    </mat-step>
    <mat-step [stepControl]="secondFormGroup">
        <form [formGroup]="secondFormGroup">
            <ng-template matStepLabel>Additional Information</ng-template>

            <div class="row">
                <div class="col-xs-12 col-md-3">
                    <mat-form-field appearance="fill">
                        <mat-label>CNIC</mat-label>
                        <input matInput formControlName="cnicNo" placeholder="CNIC" />
                    </mat-form-field>
                </div>
                <div class="col-xs-12 col-md-3">
                    <mat-form-field appearance="fill">
                        <mat-label>CNIC Issue Date</mat-label>
                        <input matInput type="date" formControlName="cnicIssueDate" placeholder="CNIC Issue Date" />
                    </mat-form-field>
                </div>
                <div class="col-xs-12 col-md-3">
                    <mat-form-field appearance="fill">
                        <mat-label>CNIC Expire Date</mat-label>
                        <input matInput type="date" formControlName="cnicExpireDate" placeholder="CNIC Expire Date" />
                    </mat-form-field>
                </div>
                <div class="col-xs-12 col-md-3">
                    <mat-form-field appearance="outline">
                        <mat-label>Employee Gender</mat-label>
                        <mat-select formControlName="gender" name="gender">
                            <mat-option value="male">Male</mat-option>
                            <mat-option value="female">Female</mat-option>
                        </mat-select>
                        <mat-error> Please provide a valid Gender </mat-error>
                    </mat-form-field>
                </div>
                <div class="col-xs-12 col-md-3">
                    <mat-form-field appearance="fill">
                        <mat-label>Father Name</mat-label>
                        <input matInput formControlName="fatherName" placeholder="Father Name" />
                    </mat-form-field>
                </div>
                <div class="col-xs-12 col-md-3">
                    <mat-form-field appearance="fill">
                        <mat-label>Father Mobile No</mat-label>
                        <input matInput formControlName="phoneNo" placeholder="Father Mobile No" />
                    </mat-form-field>
                </div>
                <div class="col-xs-12 col-md-3">
                    <mat-form-field appearance="fill">
                        <mat-label>Date Of Birth</mat-label>
                        <input matInput type="date" formControlName="dateOfBirth" placeholder="Date Of Birth" />
                    </mat-form-field>
                </div>
                <div class="col-xs-12 col-md-3">
                    <mat-form-field appearance="fill">
                        <mat-label>Place Of Birth</mat-label>
                        <input matInput formControlName="placeOfBirth" placeholder="Place Of Birth" />
                    </mat-form-field>
                </div>
                <div class="col-xs-12 col-md-12">
                    <mat-form-field appearance="fill">
                        <mat-label>Address</mat-label>
                        <input matInput formControlName="address" placeholder="Address" />
                    </mat-form-field>
                </div>
            </div>

            <div>
                <button mat-button matStepperPrevious>Back</button>
                <button mat-button matStepperNext>Next</button>
            </div>
        </form>
    </mat-step>
    <mat-step [stepControl]="thirdFormGroup">
        <form [formGroup]="thirdFormGroup">
            <ng-template matStepLabel>Bank Details</ng-template>

            <div class="row">
                <div class="col-xs-12 col-md-3">
                    <mat-form-field appearance="fill">
                        <mat-label>Bank Name</mat-label>
                        <input matInput formControlName="bankName" placeholder="Bank Name" />
                    </mat-form-field>
                </div>
                <div class="col-xs-12 col-md-3">
                    <mat-form-field appearance="fill">
                        <mat-label>Bank Account Title</mat-label>
                        <input matInput formControlName="bankAccountTitle" placeholder="Bank Account Title" />
                    </mat-form-field>
                </div>
                <div class="col-xs-12 col-md-3">
                    <mat-form-field appearance="fill">
                        <mat-label>Bank Branch Code</mat-label>
                        <input matInput formControlName="bankBranchCode" placeholder="Bank Branch Code" />
                    </mat-form-field>
                </div>
                <div class="col-xs-12 col-md-3">
                    <mat-form-field appearance="fill">
                        <mat-label>Bank Account#</mat-label>
                        <input matInput formControlName="bankAccountNo" placeholder="Bank Account#" />
                    </mat-form-field>
                </div>
            </div>
            <div>
                <button mat-button matStepperPrevious>Back</button>
                <button mat-button (click)="onSubmit()">Submit</button>
            </div>
        </form>
    </mat-step>
</mat-stepper>
