<mat-card class="module-card" style="margin-bottom: 0px !important; padding-bottom: 4px !important">
    <mat-card-header>
        <mat-card-title> Employee Attendance </mat-card-title>
    </mat-card-header>
    <br />
    <div class="row">
        <div class="col-xs-12 col-md-3">
            <mat-form-field appearance="outline">
                <mat-label>Employee</mat-label>
                <mat-select [(value)]="selectedEmployeeId" name="employeeId" (selectionChange)="selectionChange($event)">
                    <mat-option *ngFor="let org of employeesLookup" [value]="org.id">
                        {{ org.fullName }}
                    </mat-option>
                </mat-select>
                <mat-error> Please provide a valid Employee </mat-error>
            </mat-form-field>
        </div>
    </div>
    <br />
    <div class="row">
        <div class="col-md-9 calendar">
            <header>
                <h2 class="month">
                    {{ selectedMonthName }}
                    <div class="year">{{ selectedYear }}</div>
                </h2>
                <a class="simple-calendar-btn btn-prev" (click)="changeMonth(-1)"></a><a class="simple-calendar-btn btn-next" (click)="changeMonth(1)"></a>
            </header>
            <div class="event-container" style="overflow-y: scroll; display: none">
                <div class="close"></div>
                <div class="card"><div class="card-body">Please Select Employee First.</div></div>
                <div class="event-wrapper"></div>
            </div>
            <div class="event-container" style="overflow-y: scroll; display: none">
                <div class="close"></div>
                <div class="card"><div class="card-body">Please Select Employee First.</div></div>
                <div class="event-wrapper"></div>
            </div>
            <table>
                <thead>
                    <td>sun</td>
                    <td>mon</td>
                    <td>tue</td>
                    <td>wed</td>
                    <td>thu</td>
                    <td>fri</td>
                    <td>sat</td>
                </thead>
                <tbody>
                    <tr *ngFor="let week of monthCalender">
                        <td *ngFor="let date of week">
                            <div [matMenuTriggerFor]="menu" matTooltip="{{ date.status }}" class="day {{ date.dayClass }} {{ date.status }}" data-date="{{ date.dateString }}">
                                {{ date.date }}

                                <span *ngIf="date.isOverTime" class="mannual_adjusted"></span>
                            </div>
                            <mat-menu #menu="matMenu">
                                <button
                                    mat-menu-item
                                    *ngFor="let earnedHour of attendanceStatus"
                                    [disabled]="date.attendance != null && date.attendance.attendanceStatus == earnedHour"
                                    (click)="markAttendance(earnedHour, date)"
                                >
                                    Mark {{ AttendanceStatusMapping[earnedHour] }}
                                </button>
                            </mat-menu>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div class="event-container" style="overflow-y: scroll; display: none">
                <div class="close"></div>
                <div class="card"><div class="card-body">Please Select Employee First.</div></div>
                <div class="event-wrapper"></div>
            </div>
        </div>
        <div class="col-md-3 mt-4">
            <div class="mt-3" *ngFor="let earnedHour of attendanceStatus">
                <span class="font_13 ans_span">{{ AttendanceStatusMapping[earnedHour] }}</span
                >&ensp;
                <span class="font_13 monthly_expected pull-right">{{ getCount(earnedHour) }} Days</span>
            </div>
            <div class="mt-3" >
                <span class="font_13 ans_span">OverTime</span
                >&ensp;
                <span class="font_13 monthly_expected pull-right">{{ getOverTimeCount() }} Days</span>
            </div>
            <hr />
        </div>
    </div>
</mat-card>
